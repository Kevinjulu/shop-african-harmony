{"version":3,"file":"Account-F02XRpCD.js","sources":["../../node_modules/lucide-react/dist/esm/icons/clock.js","../../src/pages/Account.tsx"],"sourcesContent":["/**\n * @license lucide-react v0.462.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Clock = createLucideIcon(\"Clock\", [\n  [\"circle\", { cx: \"12\", cy: \"12\", r: \"10\", key: \"1mglay\" }],\n  [\"polyline\", { points: \"12 6 12 12 16 14\", key: \"68esgv\" }]\n]);\n\nexport { Clock as default };\n//# sourceMappingURL=clock.js.map\n","import { Button } from \"@/components/ui/button\";\r\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from \"@/components/ui/card\";\r\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from \"@/components/ui/tabs\";\r\nimport { User, Package, Heart, Clock, Settings, Plus } from \"lucide-react\";\r\nimport { useAuth } from \"@/components/AuthProvider\";\r\nimport { useNavigate, Link } from \"react-router-dom\";\r\nimport { useEffect, useState } from \"react\";\r\nimport { supabase } from \"@/integrations/supabase/client\";\r\nimport { toast } from \"sonner\";\r\n\r\nconst Account = () => {\r\n  const { user, signOut } = useAuth();\r\n  const navigate = useNavigate();\r\n  const [profile, setProfile] = useState<any>(null);\r\n  const [addresses, setAddresses] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  useEffect(() => {\r\n    if (!user) {\r\n      navigate(\"/auth\");\r\n      return;\r\n    }\r\n\r\n    const fetchProfile = async () => {\r\n      try {\r\n        const { data, error } = await supabase\r\n          .from('profiles')\r\n          .select('*')\r\n          .eq('id', user.id)\r\n          .single();\r\n\r\n        if (error) throw error;\r\n        setProfile(data);\r\n\r\n        // Fetch addresses\r\n        const { data: addressData, error: addressError } = await supabase\r\n          .from('shipping_addresses')\r\n          .select('*')\r\n          .eq('user_id', user.id);\r\n\r\n        if (addressError) throw addressError;\r\n        setAddresses(addressData || []);\r\n      } catch (error) {\r\n        console.error('Error fetching profile:', error);\r\n        toast.error('Failed to load profile data');\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n\r\n    fetchProfile();\r\n  }, [user, navigate]);\r\n\r\n  const handleEditProfile = () => {\r\n    // Navigate to edit profile page or open modal\r\n    toast.info('Edit profile functionality coming soon');\r\n  };\r\n\r\n  const handleAddAddress = () => {\r\n    // Navigate to add address page or open modal\r\n    toast.info('Add address functionality coming soon');\r\n  };\r\n\r\n  const handleSignOut = async () => {\r\n    try {\r\n      await signOut();\r\n      toast.success('Signed out successfully');\r\n      navigate('/auth');\r\n    } catch (error) {\r\n      console.error('Error signing out:', error);\r\n      toast.error('Failed to sign out');\r\n    }\r\n  };\r\n\r\n  if (!user) return null;\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gray-50\">\r\n      <div className=\"container mx-auto py-8 px-4\">\r\n        <h1 className=\"text-2xl md:text-3xl font-bold mb-8\">My Account</h1>\r\n        \r\n        <Tabs defaultValue=\"overview\" className=\"space-y-4\">\r\n          <TabsList className=\"flex flex-wrap gap-2\">\r\n            <TabsTrigger value=\"overview\" className=\"flex items-center gap-2\">\r\n              <User className=\"h-4 w-4\" />\r\n              <span>Overview</span>\r\n            </TabsTrigger>\r\n            <TabsTrigger value=\"orders\" className=\"flex items-center gap-2\">\r\n              <Package className=\"h-4 w-4\" />\r\n              <span>Orders</span>\r\n            </TabsTrigger>\r\n            <TabsTrigger value=\"wishlist\" className=\"flex items-center gap-2\">\r\n              <Heart className=\"h-4 w-4\" />\r\n              <span>Wishlist</span>\r\n            </TabsTrigger>\r\n            <TabsTrigger value=\"history\" className=\"flex items-center gap-2\">\r\n              <Clock className=\"h-4 w-4\" />\r\n              <span>History</span>\r\n            </TabsTrigger>\r\n            <TabsTrigger value=\"settings\" className=\"flex items-center gap-2\">\r\n              <Settings className=\"h-4 w-4\" />\r\n              <span>Settings</span>\r\n            </TabsTrigger>\r\n          </TabsList>\r\n\r\n          <TabsContent value=\"overview\">\r\n            <div className=\"grid gap-4 md:grid-cols-2 lg:grid-cols-3\">\r\n              <Card>\r\n                <CardHeader>\r\n                  <CardTitle>Profile Information</CardTitle>\r\n                  <CardDescription>Manage your personal information</CardDescription>\r\n                </CardHeader>\r\n                <CardContent>\r\n                  <div className=\"space-y-4\">\r\n                    <div>\r\n                      <label className=\"text-sm font-medium\">Name</label>\r\n                      <p className=\"text-lg\">{profile?.full_name || 'Not set'}</p>\r\n                    </div>\r\n                    <div>\r\n                      <label className=\"text-sm font-medium\">Email</label>\r\n                      <p className=\"text-lg\">{user.email}</p>\r\n                    </div>\r\n                    <Button onClick={handleEditProfile} variant=\"outline\" className=\"w-full md:w-auto\">\r\n                      Edit Profile\r\n                    </Button>\r\n                  </div>\r\n                </CardContent>\r\n              </Card>\r\n\r\n              <Card>\r\n                <CardHeader>\r\n                  <CardTitle>Recent Orders</CardTitle>\r\n                  <CardDescription>Your latest purchases</CardDescription>\r\n                </CardHeader>\r\n                <CardContent>\r\n                  <div className=\"space-y-4\">\r\n                    <p className=\"text-muted-foreground\">No recent orders found.</p>\r\n                    <Button variant=\"outline\" asChild>\r\n                      <Link to=\"/products\">Start Shopping</Link>\r\n                    </Button>\r\n                  </div>\r\n                </CardContent>\r\n              </Card>\r\n\r\n              <Card className=\"md:col-span-2 lg:col-span-1\">\r\n                <CardHeader>\r\n                  <CardTitle>Saved Addresses</CardTitle>\r\n                  <CardDescription>Your shipping addresses</CardDescription>\r\n                </CardHeader>\r\n                <CardContent>\r\n                  <div className=\"space-y-4\">\r\n                    {addresses.length === 0 ? (\r\n                      <p className=\"text-muted-foreground\">No addresses saved yet.</p>\r\n                    ) : (\r\n                      addresses.map((address: any) => (\r\n                        <div key={address.id} className=\"p-3 border rounded-lg\">\r\n                          <p className=\"font-medium\">{address.full_name}</p>\r\n                          <p>{address.address_line1}</p>\r\n                          <p>{address.city}, {address.state} {address.postal_code}</p>\r\n                        </div>\r\n                      ))\r\n                    )}\r\n                    <Button onClick={handleAddAddress} variant=\"outline\" className=\"w-full md:w-auto\">\r\n                      <Plus className=\"h-4 w-4 mr-2\" />\r\n                      Add New Address\r\n                    </Button>\r\n                  </div>\r\n                </CardContent>\r\n              </Card>\r\n            </div>\r\n          </TabsContent>\r\n\r\n          <TabsContent value=\"settings\">\r\n            <Card>\r\n              <CardHeader>\r\n                <CardTitle>Account Settings</CardTitle>\r\n                <CardDescription>Manage your account preferences</CardDescription>\r\n              </CardHeader>\r\n              <CardContent>\r\n                <div className=\"space-y-4\">\r\n                  <Button variant=\"outline\" className=\"w-full md:w-auto block mb-2\">\r\n                    Change Password\r\n                  </Button>\r\n                  <Button variant=\"outline\" className=\"w-full md:w-auto block mb-2\">\r\n                    Notification Preferences\r\n                  </Button>\r\n                  <Button variant=\"outline\" className=\"w-full md:w-auto block mb-4\">\r\n                    Privacy Settings\r\n                  </Button>\r\n                  <Button \r\n                    variant=\"destructive\" \r\n                    onClick={handleSignOut}\r\n                    className=\"w-full md:w-auto\"\r\n                  >\r\n                    Sign Out\r\n                  </Button>\r\n                </div>\r\n              </CardContent>\r\n            </Card>\r\n          </TabsContent>\r\n\r\n          {/* Other tab contents remain the same */}\r\n          <TabsContent value=\"orders\">\r\n            <Card>\r\n              <CardHeader>\r\n                <CardTitle>Order History</CardTitle>\r\n                <CardDescription>View and track your orders</CardDescription>\r\n              </CardHeader>\r\n              <CardContent>\r\n                <div className=\"space-y-4\">\r\n                  <p className=\"text-muted-foreground\">No orders found.</p>\r\n                </div>\r\n              </CardContent>\r\n            </Card>\r\n          </TabsContent>\r\n\r\n          <TabsContent value=\"wishlist\">\r\n            <Card>\r\n              <CardHeader>\r\n                <CardTitle>My Wishlist</CardTitle>\r\n                <CardDescription>Items you've saved for later</CardDescription>\r\n              </CardHeader>\r\n              <CardContent>\r\n                <div className=\"space-y-4\">\r\n                  <p className=\"text-muted-foreground\">Your wishlist is empty.</p>\r\n                </div>\r\n              </CardContent>\r\n            </Card>\r\n          </TabsContent>\r\n\r\n          <TabsContent value=\"history\">\r\n            <Card>\r\n              <CardHeader>\r\n                <CardTitle>Browsing History</CardTitle>\r\n                <CardDescription>Recently viewed items</CardDescription>\r\n              </CardHeader>\r\n              <CardContent>\r\n                <div className=\"space-y-4\">\r\n                  <p className=\"text-muted-foreground\">No items in history.</p>\r\n                </div>\r\n              </CardContent>\r\n            </Card>\r\n          </TabsContent>\r\n        </Tabs>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Account;\r\n"],"names":["Clock","createLucideIcon","Account","user","signOut","useAuth","navigate","useNavigate","profile","setProfile","useState","addresses","setAddresses","loading","setLoading","useEffect","data","error","supabase","addressData","addressError","toast","handleEditProfile","handleAddAddress","handleSignOut","jsxs","jsx","Tabs","TabsList","TabsTrigger","User","Package","Heart","Settings","TabsContent","Card","CardHeader","CardTitle","CardDescription","CardContent","Button","Link","address","Plus"],"mappings":"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","x_google_ignoreList":[0]}