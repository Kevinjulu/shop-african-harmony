{"version":3,"file":"Checkout-C7NB-ssA.js","sources":["../../node_modules/lucide-react/dist/esm/icons/banknote.js","../../node_modules/@radix-ui/react-radio-group/dist/index.mjs","../../src/components/ui/radio-group.tsx","../../src/utils/payments/index.ts","../../src/services/payments/PaymentService.ts","../../src/components/payments/PaymentMethodSelector.tsx","../../src/pages/Checkout.tsx"],"sourcesContent":["/**\n * @license lucide-react v0.462.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Banknote = createLucideIcon(\"Banknote\", [\n  [\"rect\", { width: \"20\", height: \"12\", x: \"2\", y: \"6\", rx: \"2\", key: \"9lu3g6\" }],\n  [\"circle\", { cx: \"12\", cy: \"12\", r: \"2\", key: \"1c9p78\" }],\n  [\"path\", { d: \"M6 12h.01M18 12h.01\", key: \"113zkx\" }]\n]);\n\nexport { Banknote as default };\n//# sourceMappingURL=banknote.js.map\n","\"use client\";\n\n// packages/react/radio-group/src/RadioGroup.tsx\nimport * as React2 from \"react\";\nimport { composeEventHandlers as composeEventHandlers2 } from \"@radix-ui/primitive\";\nimport { useComposedRefs as useComposedRefs2 } from \"@radix-ui/react-compose-refs\";\nimport { createContextScope as createContextScope2 } from \"@radix-ui/react-context\";\nimport { Primitive as Primitive2 } from \"@radix-ui/react-primitive\";\nimport * as RovingFocusGroup from \"@radix-ui/react-roving-focus\";\nimport { createRovingFocusGroupScope } from \"@radix-ui/react-roving-focus\";\nimport { useControllableState } from \"@radix-ui/react-use-controllable-state\";\nimport { useDirection } from \"@radix-ui/react-direction\";\n\n// packages/react/radio-group/src/Radio.tsx\nimport * as React from \"react\";\nimport { composeEventHandlers } from \"@radix-ui/primitive\";\nimport { useComposedRefs } from \"@radix-ui/react-compose-refs\";\nimport { createContextScope } from \"@radix-ui/react-context\";\nimport { useSize } from \"@radix-ui/react-use-size\";\nimport { usePrevious } from \"@radix-ui/react-use-previous\";\nimport { Presence } from \"@radix-ui/react-presence\";\nimport { Primitive } from \"@radix-ui/react-primitive\";\nimport { jsx, jsxs } from \"react/jsx-runtime\";\nvar RADIO_NAME = \"Radio\";\nvar [createRadioContext, createRadioScope] = createContextScope(RADIO_NAME);\nvar [RadioProvider, useRadioContext] = createRadioContext(RADIO_NAME);\nvar Radio = React.forwardRef(\n  (props, forwardedRef) => {\n    const {\n      __scopeRadio,\n      name,\n      checked = false,\n      required,\n      disabled,\n      value = \"on\",\n      onCheck,\n      form,\n      ...radioProps\n    } = props;\n    const [button, setButton] = React.useState(null);\n    const composedRefs = useComposedRefs(forwardedRef, (node) => setButton(node));\n    const hasConsumerStoppedPropagationRef = React.useRef(false);\n    const isFormControl = button ? form || !!button.closest(\"form\") : true;\n    return /* @__PURE__ */ jsxs(RadioProvider, { scope: __scopeRadio, checked, disabled, children: [\n      /* @__PURE__ */ jsx(\n        Primitive.button,\n        {\n          type: \"button\",\n          role: \"radio\",\n          \"aria-checked\": checked,\n          \"data-state\": getState(checked),\n          \"data-disabled\": disabled ? \"\" : void 0,\n          disabled,\n          value,\n          ...radioProps,\n          ref: composedRefs,\n          onClick: composeEventHandlers(props.onClick, (event) => {\n            if (!checked) onCheck?.();\n            if (isFormControl) {\n              hasConsumerStoppedPropagationRef.current = event.isPropagationStopped();\n              if (!hasConsumerStoppedPropagationRef.current) event.stopPropagation();\n            }\n          })\n        }\n      ),\n      isFormControl && /* @__PURE__ */ jsx(\n        BubbleInput,\n        {\n          control: button,\n          bubbles: !hasConsumerStoppedPropagationRef.current,\n          name,\n          value,\n          checked,\n          required,\n          disabled,\n          form,\n          style: { transform: \"translateX(-100%)\" }\n        }\n      )\n    ] });\n  }\n);\nRadio.displayName = RADIO_NAME;\nvar INDICATOR_NAME = \"RadioIndicator\";\nvar RadioIndicator = React.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopeRadio, forceMount, ...indicatorProps } = props;\n    const context = useRadioContext(INDICATOR_NAME, __scopeRadio);\n    return /* @__PURE__ */ jsx(Presence, { present: forceMount || context.checked, children: /* @__PURE__ */ jsx(\n      Primitive.span,\n      {\n        \"data-state\": getState(context.checked),\n        \"data-disabled\": context.disabled ? \"\" : void 0,\n        ...indicatorProps,\n        ref: forwardedRef\n      }\n    ) });\n  }\n);\nRadioIndicator.displayName = INDICATOR_NAME;\nvar BubbleInput = (props) => {\n  const { control, checked, bubbles = true, ...inputProps } = props;\n  const ref = React.useRef(null);\n  const prevChecked = usePrevious(checked);\n  const controlSize = useSize(control);\n  React.useEffect(() => {\n    const input = ref.current;\n    const inputProto = window.HTMLInputElement.prototype;\n    const descriptor = Object.getOwnPropertyDescriptor(inputProto, \"checked\");\n    const setChecked = descriptor.set;\n    if (prevChecked !== checked && setChecked) {\n      const event = new Event(\"click\", { bubbles });\n      setChecked.call(input, checked);\n      input.dispatchEvent(event);\n    }\n  }, [prevChecked, checked, bubbles]);\n  return /* @__PURE__ */ jsx(\n    \"input\",\n    {\n      type: \"radio\",\n      \"aria-hidden\": true,\n      defaultChecked: checked,\n      ...inputProps,\n      tabIndex: -1,\n      ref,\n      style: {\n        ...props.style,\n        ...controlSize,\n        position: \"absolute\",\n        pointerEvents: \"none\",\n        opacity: 0,\n        margin: 0\n      }\n    }\n  );\n};\nfunction getState(checked) {\n  return checked ? \"checked\" : \"unchecked\";\n}\n\n// packages/react/radio-group/src/RadioGroup.tsx\nimport { jsx as jsx2 } from \"react/jsx-runtime\";\nvar ARROW_KEYS = [\"ArrowUp\", \"ArrowDown\", \"ArrowLeft\", \"ArrowRight\"];\nvar RADIO_GROUP_NAME = \"RadioGroup\";\nvar [createRadioGroupContext, createRadioGroupScope] = createContextScope2(RADIO_GROUP_NAME, [\n  createRovingFocusGroupScope,\n  createRadioScope\n]);\nvar useRovingFocusGroupScope = createRovingFocusGroupScope();\nvar useRadioScope = createRadioScope();\nvar [RadioGroupProvider, useRadioGroupContext] = createRadioGroupContext(RADIO_GROUP_NAME);\nvar RadioGroup = React2.forwardRef(\n  (props, forwardedRef) => {\n    const {\n      __scopeRadioGroup,\n      name,\n      defaultValue,\n      value: valueProp,\n      required = false,\n      disabled = false,\n      orientation,\n      dir,\n      loop = true,\n      onValueChange,\n      ...groupProps\n    } = props;\n    const rovingFocusGroupScope = useRovingFocusGroupScope(__scopeRadioGroup);\n    const direction = useDirection(dir);\n    const [value, setValue] = useControllableState({\n      prop: valueProp,\n      defaultProp: defaultValue,\n      onChange: onValueChange\n    });\n    return /* @__PURE__ */ jsx2(\n      RadioGroupProvider,\n      {\n        scope: __scopeRadioGroup,\n        name,\n        required,\n        disabled,\n        value,\n        onValueChange: setValue,\n        children: /* @__PURE__ */ jsx2(\n          RovingFocusGroup.Root,\n          {\n            asChild: true,\n            ...rovingFocusGroupScope,\n            orientation,\n            dir: direction,\n            loop,\n            children: /* @__PURE__ */ jsx2(\n              Primitive2.div,\n              {\n                role: \"radiogroup\",\n                \"aria-required\": required,\n                \"aria-orientation\": orientation,\n                \"data-disabled\": disabled ? \"\" : void 0,\n                dir: direction,\n                ...groupProps,\n                ref: forwardedRef\n              }\n            )\n          }\n        )\n      }\n    );\n  }\n);\nRadioGroup.displayName = RADIO_GROUP_NAME;\nvar ITEM_NAME = \"RadioGroupItem\";\nvar RadioGroupItem = React2.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopeRadioGroup, disabled, ...itemProps } = props;\n    const context = useRadioGroupContext(ITEM_NAME, __scopeRadioGroup);\n    const isDisabled = context.disabled || disabled;\n    const rovingFocusGroupScope = useRovingFocusGroupScope(__scopeRadioGroup);\n    const radioScope = useRadioScope(__scopeRadioGroup);\n    const ref = React2.useRef(null);\n    const composedRefs = useComposedRefs2(forwardedRef, ref);\n    const checked = context.value === itemProps.value;\n    const isArrowKeyPressedRef = React2.useRef(false);\n    React2.useEffect(() => {\n      const handleKeyDown = (event) => {\n        if (ARROW_KEYS.includes(event.key)) {\n          isArrowKeyPressedRef.current = true;\n        }\n      };\n      const handleKeyUp = () => isArrowKeyPressedRef.current = false;\n      document.addEventListener(\"keydown\", handleKeyDown);\n      document.addEventListener(\"keyup\", handleKeyUp);\n      return () => {\n        document.removeEventListener(\"keydown\", handleKeyDown);\n        document.removeEventListener(\"keyup\", handleKeyUp);\n      };\n    }, []);\n    return /* @__PURE__ */ jsx2(\n      RovingFocusGroup.Item,\n      {\n        asChild: true,\n        ...rovingFocusGroupScope,\n        focusable: !isDisabled,\n        active: checked,\n        children: /* @__PURE__ */ jsx2(\n          Radio,\n          {\n            disabled: isDisabled,\n            required: context.required,\n            checked,\n            ...radioScope,\n            ...itemProps,\n            name: context.name,\n            ref: composedRefs,\n            onCheck: () => context.onValueChange(itemProps.value),\n            onKeyDown: composeEventHandlers2((event) => {\n              if (event.key === \"Enter\") event.preventDefault();\n            }),\n            onFocus: composeEventHandlers2(itemProps.onFocus, () => {\n              if (isArrowKeyPressedRef.current) ref.current?.click();\n            })\n          }\n        )\n      }\n    );\n  }\n);\nRadioGroupItem.displayName = ITEM_NAME;\nvar INDICATOR_NAME2 = \"RadioGroupIndicator\";\nvar RadioGroupIndicator = React2.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopeRadioGroup, ...indicatorProps } = props;\n    const radioScope = useRadioScope(__scopeRadioGroup);\n    return /* @__PURE__ */ jsx2(RadioIndicator, { ...radioScope, ...indicatorProps, ref: forwardedRef });\n  }\n);\nRadioGroupIndicator.displayName = INDICATOR_NAME2;\nvar Root2 = RadioGroup;\nvar Item2 = RadioGroupItem;\nvar Indicator = RadioGroupIndicator;\nexport {\n  Indicator,\n  Item2 as Item,\n  RadioGroup,\n  RadioGroupIndicator,\n  RadioGroupItem,\n  Root2 as Root,\n  createRadioGroupScope\n};\n//# sourceMappingURL=index.mjs.map\n","import * as React from \"react\"\r\nimport * as RadioGroupPrimitive from \"@radix-ui/react-radio-group\"\r\nimport { Circle } from \"lucide-react\"\r\n\r\nimport { cn } from \"@/lib/utils\"\r\n\r\nconst RadioGroup = React.forwardRef<\r\n  React.ElementRef<typeof RadioGroupPrimitive.Root>,\r\n  React.ComponentPropsWithoutRef<typeof RadioGroupPrimitive.Root>\r\n>(({ className, ...props }, ref) => {\r\n  return (\r\n    <RadioGroupPrimitive.Root\r\n      className={cn(\"grid gap-2\", className)}\r\n      {...props}\r\n      ref={ref}\r\n    />\r\n  )\r\n})\r\nRadioGroup.displayName = RadioGroupPrimitive.Root.displayName\r\n\r\nconst RadioGroupItem = React.forwardRef<\r\n  React.ElementRef<typeof RadioGroupPrimitive.Item>,\r\n  React.ComponentPropsWithoutRef<typeof RadioGroupPrimitive.Item>\r\n>(({ className, ...props }, ref) => {\r\n  return (\r\n    <RadioGroupPrimitive.Item\r\n      ref={ref}\r\n      className={cn(\r\n        \"aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50\",\r\n        className\r\n      )}\r\n      {...props}\r\n    >\r\n      <RadioGroupPrimitive.Indicator className=\"flex items-center justify-center\">\r\n        <Circle className=\"h-2.5 w-2.5 fill-current text-current\" />\r\n      </RadioGroupPrimitive.Indicator>\r\n    </RadioGroupPrimitive.Item>\r\n  )\r\n})\r\nRadioGroupItem.displayName = RadioGroupPrimitive.Item.displayName\r\n\r\nexport { RadioGroup, RadioGroupItem }\r\n","export const initiateMpesaPayment = async (amount: number, phoneNumber: string, orderId: string) => {\r\n  // Implementation will be added later\r\n  return { success: true };\r\n};\r\n\r\nexport const initiatePaystackPayment = async (amount: number, email: string, orderId: string) => {\r\n  // Implementation will be added later\r\n  return { success: true };\r\n};\r\n\r\nexport const initiateFlutterwavePayment = async (amount: number, email: string, orderId: string) => {\r\n  // Implementation will be added later\r\n  return { success: true };\r\n};\r\n\r\nexport const initiateCryptoPayment = async (amount: number, currency: string, orderId: string) => {\r\n  // Implementation will be added later\r\n  return { success: true };\r\n};","import { supabase } from \"@/integrations/supabase/client\";\r\nimport { toast } from \"sonner\";\r\nimport { \r\n  initiateMpesaPayment,\r\n  initiatePaystackPayment,\r\n  initiateFlutterwavePayment,\r\n  initiateCryptoPayment\r\n} from \"@/utils/payments\";\r\n\r\nexport type PaymentProvider = 'mpesa' | 'paystack' | 'flutterwave' | 'coingate';\r\n\r\ninterface PaymentDetails {\r\n  amount: number;\r\n  currency: string;\r\n  orderId: string;\r\n  email?: string;\r\n  phoneNumber?: string;\r\n}\r\n\r\nexport class PaymentService {\r\n  static async initiatePayment(provider: PaymentProvider, details: PaymentDetails) {\r\n    try {\r\n      let response;\r\n      \r\n      switch (provider) {\r\n        case 'mpesa':\r\n          if (!details.phoneNumber) throw new Error('Phone number required for M-Pesa');\r\n          response = await initiateMpesaPayment(\r\n            details.amount,\r\n            details.phoneNumber,\r\n            details.orderId\r\n          );\r\n          break;\r\n\r\n        case 'paystack':\r\n          if (!details.email) throw new Error('Email required for Paystack');\r\n          response = await initiatePaystackPayment(\r\n            details.amount,\r\n            details.email,\r\n            details.orderId\r\n          );\r\n          break;\r\n\r\n        case 'flutterwave':\r\n          if (!details.email) throw new Error('Email required for Flutterwave');\r\n          response = await initiateFlutterwavePayment(\r\n            details.amount,\r\n            details.email,\r\n            details.orderId\r\n          );\r\n          break;\r\n\r\n        case 'coingate':\r\n          response = await initiateCryptoPayment(\r\n            details.amount,\r\n            details.currency,\r\n            details.orderId\r\n          );\r\n          break;\r\n\r\n        default:\r\n          throw new Error('Invalid payment provider');\r\n      }\r\n\r\n      // Record the payment attempt\r\n      await supabase.from('payment_transactions').insert([{\r\n        order_id: details.orderId,\r\n        amount: details.amount,\r\n        currency: details.currency,\r\n        status: 'pending',\r\n        payment_details: response\r\n      }]);\r\n\r\n      return response;\r\n    } catch (error) {\r\n      console.error('Payment initiation error:', error);\r\n      toast.error('Failed to initiate payment');\r\n      throw error;\r\n    }\r\n  }\r\n\r\n  static async verifyPayment(transactionId: string) {\r\n    try {\r\n      const { data: transaction, error } = await supabase\r\n        .from('payment_transactions')\r\n        .select('*')\r\n        .eq('id', transactionId)\r\n        .single();\r\n\r\n      if (error) throw error;\r\n      \r\n      // Update order status if payment is successful\r\n      if (transaction.status === 'success') {\r\n        await supabase\r\n          .from('orders')\r\n          .update({ status: 'paid' })\r\n          .eq('id', transaction.order_id);\r\n      }\r\n\r\n      return transaction;\r\n    } catch (error) {\r\n      console.error('Payment verification error:', error);\r\n      toast.error('Failed to verify payment');\r\n      throw error;\r\n    }\r\n  }\r\n}","import { useState } from \"react\";\r\nimport { RadioGroup, RadioGroupItem } from \"@/components/ui/radio-group\";\r\nimport { Label } from \"@/components/ui/label\";\r\nimport { Card } from \"@/components/ui/card\";\r\nimport { Input } from \"@/components/ui/input\";\r\nimport { Button } from \"@/components/ui/button\";\r\nimport { PaymentService, PaymentProvider } from \"@/services/payments/PaymentService\";\r\nimport { toast } from \"sonner\";\r\nimport { CreditCard, Banknote, Bitcoin } from \"lucide-react\";\r\nimport { useCurrency } from \"@/hooks/useCurrency\";\r\n\r\ninterface PaymentDetails {\r\n  email?: string;\r\n  phoneNumber?: string;\r\n}\r\n\r\ninterface PaymentMethodSelectorProps {\r\n  amount: number;\r\n  orderId: string;\r\n  onPaymentComplete: () => void;\r\n}\r\n\r\nexport const PaymentMethodSelector = ({\r\n  amount,\r\n  orderId,\r\n  onPaymentComplete\r\n}: PaymentMethodSelectorProps) => {\r\n  const [selectedMethod, setSelectedMethod] = useState<PaymentProvider>('mpesa');\r\n  const [details, setDetails] = useState<PaymentDetails>({});\r\n  const [isProcessing, setIsProcessing] = useState(false);\r\n  const { formatPrice, currency } = useCurrency();\r\n\r\n  const handlePayment = async () => {\r\n    try {\r\n      setIsProcessing(true);\r\n      console.log('Initiating payment with:', { selectedMethod, details, amount, currency: currency.code, orderId });\r\n      \r\n      await PaymentService.initiatePayment(selectedMethod, {\r\n        amount,\r\n        currency: currency.code,\r\n        orderId,\r\n        ...details\r\n      });\r\n\r\n      toast.success('Payment initiated successfully');\r\n      onPaymentComplete();\r\n    } catch (error) {\r\n      console.error('Payment error:', error);\r\n      toast.error('Payment failed');\r\n    } finally {\r\n      setIsProcessing(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      <RadioGroup\r\n        value={selectedMethod}\r\n        onValueChange={(value) => setSelectedMethod(value as PaymentProvider)}\r\n        className=\"grid grid-cols-1 md:grid-cols-2 gap-4\"\r\n      >\r\n        <Card className=\"relative p-4 hover:border-orange-500 transition-colors cursor-pointer\">\r\n          <RadioGroupItem value=\"mpesa\" id=\"mpesa\" className=\"absolute right-4 top-4\" />\r\n          <Label htmlFor=\"mpesa\" className=\"flex items-center space-x-3 cursor-pointer\">\r\n            <div className=\"w-8 h-8 flex items-center justify-center bg-green-500 rounded-full\">\r\n              <Banknote className=\"w-5 h-5 text-white\" />\r\n            </div>\r\n            <span>M-Pesa</span>\r\n          </Label>\r\n        </Card>\r\n\r\n        <Card className=\"relative p-4 hover:border-orange-500 transition-colors cursor-pointer\">\r\n          <RadioGroupItem value=\"paystack\" id=\"paystack\" className=\"absolute right-4 top-4\" />\r\n          <Label htmlFor=\"paystack\" className=\"flex items-center space-x-3 cursor-pointer\">\r\n            <div className=\"w-8 h-8 flex items-center justify-center bg-blue-500 rounded-full\">\r\n              <CreditCard className=\"w-5 h-5 text-white\" />\r\n            </div>\r\n            <span>Paystack</span>\r\n          </Label>\r\n        </Card>\r\n\r\n        <Card className=\"relative p-4 hover:border-orange-500 transition-colors cursor-pointer\">\r\n          <RadioGroupItem value=\"flutterwave\" id=\"flutterwave\" className=\"absolute right-4 top-4\" />\r\n          <Label htmlFor=\"flutterwave\" className=\"flex items-center space-x-3 cursor-pointer\">\r\n            <div className=\"w-8 h-8 flex items-center justify-center bg-purple-500 rounded-full\">\r\n              <CreditCard className=\"w-5 h-5 text-white\" />\r\n            </div>\r\n            <span>Flutterwave</span>\r\n          </Label>\r\n        </Card>\r\n\r\n        <Card className=\"relative p-4 hover:border-orange-500 transition-colors cursor-pointer\">\r\n          <RadioGroupItem value=\"coingate\" id=\"coingate\" className=\"absolute right-4 top-4\" />\r\n          <Label htmlFor=\"coingate\" className=\"flex items-center space-x-3 cursor-pointer\">\r\n            <div className=\"w-8 h-8 flex items-center justify-center bg-yellow-500 rounded-full\">\r\n              <Bitcoin className=\"w-5 h-5 text-white\" />\r\n            </div>\r\n            <span>Cryptocurrency</span>\r\n          </Label>\r\n        </Card>\r\n      </RadioGroup>\r\n\r\n      <div className=\"space-y-4\">\r\n        {(selectedMethod === 'paystack' || selectedMethod === 'flutterwave') && (\r\n          <div>\r\n            <Label>Email</Label>\r\n            <Input\r\n              type=\"email\"\r\n              value={details.email || ''}\r\n              onChange={(e) => setDetails({ ...details, email: e.target.value })}\r\n              placeholder=\"Enter your email\"\r\n              className=\"mt-1\"\r\n            />\r\n          </div>\r\n        )}\r\n\r\n        {selectedMethod === 'mpesa' && (\r\n          <div>\r\n            <Label>Phone Number</Label>\r\n            <Input\r\n              type=\"tel\"\r\n              value={details.phoneNumber || ''}\r\n              onChange={(e) => setDetails({ ...details, phoneNumber: e.target.value })}\r\n              placeholder=\"Enter M-Pesa number\"\r\n              className=\"mt-1\"\r\n            />\r\n          </div>\r\n        )}\r\n\r\n        <Button \r\n          onClick={handlePayment} \r\n          disabled={isProcessing}\r\n          className=\"w-full bg-orange-500 hover:bg-orange-600 text-white\"\r\n        >\r\n          {isProcessing ? 'Processing...' : `Pay ${formatPrice(amount)}`}\r\n        </Button>\r\n      </div>\r\n    </div>\r\n  );\r\n};","import { useState } from \"react\";\r\nimport { useCart } from \"@/contexts/CartContext\";\r\nimport { useCurrency } from \"@/hooks/useCurrency\";\r\nimport { Button } from \"@/components/ui/button\";\r\nimport { Input } from \"@/components/ui/input\";\r\nimport { Label } from \"@/components/ui/label\";\r\nimport { RadioGroup, RadioGroupItem } from \"@/components/ui/radio-group\";\r\nimport { Separator } from \"@/components/ui/separator\";\r\nimport { PaymentMethodSelector } from \"@/components/payments/PaymentMethodSelector\";\r\nimport { useAuth } from \"@/components/AuthProvider\";\r\nimport { toast } from \"sonner\";\r\nimport { useNavigate } from \"react-router-dom\";\r\n\r\nconst Checkout = () => {\r\n  const { items, clearCart } = useCart();\r\n  const { formatPrice } = useCurrency();\r\n  const { user } = useAuth();\r\n  const navigate = useNavigate();\r\n\r\n  const [shippingMethod, setShippingMethod] = useState(\"standard\");\r\n  const [formData, setFormData] = useState({\r\n    firstName: \"\",\r\n    lastName: \"\",\r\n    email: user?.email || \"\",\r\n    phone: \"\",\r\n    address: \"\",\r\n    city: \"\",\r\n    state: \"\",\r\n    zipCode: \"\",\r\n    country: \"\",\r\n  });\r\n\r\n  const subtotal = items.reduce((sum, item) => sum + item.price * item.quantity, 0);\r\n  const shippingCost = shippingMethod === \"express\" ? 20 : 10;\r\n  const tax = subtotal * 0.16;\r\n  const total = subtotal + shippingCost + tax;\r\n\r\n  const handleInputChange = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n    const { name, value } = e.target;\r\n    setFormData(prev => ({ ...prev, [name]: value }));\r\n  };\r\n\r\n  const handleSubmit = async (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n    \r\n    if (!user) {\r\n      toast.error(\"Please sign in to complete your purchase\");\r\n      navigate(\"/auth\");\r\n      return;\r\n    }\r\n\r\n    // Here you would typically:\r\n    // 1. Validate the form\r\n    // 2. Create an order in your database\r\n    // 3. Process payment\r\n    // 4. Clear the cart\r\n    // 5. Redirect to success page\r\n\r\n    toast.success(\"Order placed successfully!\");\r\n    clearCart();\r\n    navigate(\"/\");\r\n  };\r\n\r\n  if (items.length === 0) {\r\n    navigate(\"/cart\");\r\n    return null;\r\n  }\r\n\r\n  return (\r\n    <div className=\"container mx-auto px-4 py-8\">\r\n      <h1 className=\"text-3xl font-bold text-gray-900 mb-8\">Checkout</h1>\r\n\r\n      <div className=\"grid lg:grid-cols-2 gap-8\">\r\n        <div className=\"space-y-8\">\r\n          <div className=\"bg-white p-6 rounded-lg shadow-sm\">\r\n            <h2 className=\"text-xl font-semibold mb-4\">Shipping Information</h2>\r\n            <form className=\"space-y-4\">\r\n              <div className=\"grid grid-cols-2 gap-4\">\r\n                <div className=\"space-y-2\">\r\n                  <Label htmlFor=\"firstName\">First Name</Label>\r\n                  <Input\r\n                    id=\"firstName\"\r\n                    name=\"firstName\"\r\n                    value={formData.firstName}\r\n                    onChange={handleInputChange}\r\n                    required\r\n                  />\r\n                </div>\r\n                <div className=\"space-y-2\">\r\n                  <Label htmlFor=\"lastName\">Last Name</Label>\r\n                  <Input\r\n                    id=\"lastName\"\r\n                    name=\"lastName\"\r\n                    value={formData.lastName}\r\n                    onChange={handleInputChange}\r\n                    required\r\n                  />\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"space-y-2\">\r\n                <Label htmlFor=\"email\">Email</Label>\r\n                <Input\r\n                  id=\"email\"\r\n                  name=\"email\"\r\n                  type=\"email\"\r\n                  value={formData.email}\r\n                  onChange={handleInputChange}\r\n                  required\r\n                />\r\n              </div>\r\n\r\n              <div className=\"space-y-2\">\r\n                <Label htmlFor=\"phone\">Phone</Label>\r\n                <Input\r\n                  id=\"phone\"\r\n                  name=\"phone\"\r\n                  type=\"tel\"\r\n                  value={formData.phone}\r\n                  onChange={handleInputChange}\r\n                  required\r\n                />\r\n              </div>\r\n\r\n              <div className=\"space-y-2\">\r\n                <Label htmlFor=\"address\">Address</Label>\r\n                <Input\r\n                  id=\"address\"\r\n                  name=\"address\"\r\n                  value={formData.address}\r\n                  onChange={handleInputChange}\r\n                  required\r\n                />\r\n              </div>\r\n\r\n              <div className=\"grid grid-cols-2 gap-4\">\r\n                <div className=\"space-y-2\">\r\n                  <Label htmlFor=\"city\">City</Label>\r\n                  <Input\r\n                    id=\"city\"\r\n                    name=\"city\"\r\n                    value={formData.city}\r\n                    onChange={handleInputChange}\r\n                    required\r\n                  />\r\n                </div>\r\n                <div className=\"space-y-2\">\r\n                  <Label htmlFor=\"state\">State</Label>\r\n                  <Input\r\n                    id=\"state\"\r\n                    name=\"state\"\r\n                    value={formData.state}\r\n                    onChange={handleInputChange}\r\n                    required\r\n                  />\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"grid grid-cols-2 gap-4\">\r\n                <div className=\"space-y-2\">\r\n                  <Label htmlFor=\"zipCode\">ZIP Code</Label>\r\n                  <Input\r\n                    id=\"zipCode\"\r\n                    name=\"zipCode\"\r\n                    value={formData.zipCode}\r\n                    onChange={handleInputChange}\r\n                    required\r\n                  />\r\n                </div>\r\n                <div className=\"space-y-2\">\r\n                  <Label htmlFor=\"country\">Country</Label>\r\n                  <Input\r\n                    id=\"country\"\r\n                    name=\"country\"\r\n                    value={formData.country}\r\n                    onChange={handleInputChange}\r\n                    required\r\n                  />\r\n                </div>\r\n              </div>\r\n            </form>\r\n          </div>\r\n\r\n          <div className=\"bg-white p-6 rounded-lg shadow-sm\">\r\n            <h2 className=\"text-xl font-semibold mb-4\">Shipping Method</h2>\r\n            <RadioGroup\r\n              value={shippingMethod}\r\n              onValueChange={setShippingMethod}\r\n              className=\"space-y-4\"\r\n            >\r\n              <div className=\"flex items-center justify-between\">\r\n                <div className=\"flex items-center space-x-2\">\r\n                  <RadioGroupItem value=\"standard\" id=\"standard\" />\r\n                  <Label htmlFor=\"standard\">Standard Shipping (5-7 days)</Label>\r\n                </div>\r\n                <span className=\"font-medium\">{formatPrice(10)}</span>\r\n              </div>\r\n              <div className=\"flex items-center justify-between\">\r\n                <div className=\"flex items-center space-x-2\">\r\n                  <RadioGroupItem value=\"express\" id=\"express\" />\r\n                  <Label htmlFor=\"express\">Express Shipping (2-3 days)</Label>\r\n                </div>\r\n                <span className=\"font-medium\">{formatPrice(20)}</span>\r\n              </div>\r\n            </RadioGroup>\r\n          </div>\r\n\r\n          <div className=\"bg-white p-6 rounded-lg shadow-sm\">\r\n            <h2 className=\"text-xl font-semibold mb-4\">Payment Method</h2>\r\n            <PaymentMethodSelector\r\n              amount={total}\r\n              orderId={`ORDER-${Date.now()}`}\r\n              onPaymentComplete={() => {\r\n                toast.success(\"Payment successful!\");\r\n                clearCart();\r\n                navigate(\"/\");\r\n              }}\r\n            />\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"space-y-6\">\r\n          <div className=\"bg-white p-6 rounded-lg shadow-sm\">\r\n            <h2 className=\"text-xl font-semibold mb-4\">Order Summary</h2>\r\n            <div className=\"space-y-4\">\r\n              {items.map((item) => (\r\n                <div key={item.id} className=\"flex justify-between items-center\">\r\n                  <div className=\"flex items-center space-x-4\">\r\n                    <img\r\n                      src={item.image_url}\r\n                      alt={item.name}\r\n                      className=\"w-16 h-16 object-cover rounded\"\r\n                    />\r\n                    <div>\r\n                      <p className=\"font-medium\">{item.name}</p>\r\n                      <p className=\"text-sm text-gray-500\">Quantity: {item.quantity}</p>\r\n                    </div>\r\n                  </div>\r\n                  <p className=\"font-medium\">{formatPrice(item.price * item.quantity)}</p>\r\n                </div>\r\n              ))}\r\n              <Separator />\r\n              <div className=\"space-y-2\">\r\n                <div className=\"flex justify-between text-sm\">\r\n                  <span className=\"text-gray-600\">Subtotal</span>\r\n                  <span>{formatPrice(subtotal)}</span>\r\n                </div>\r\n                <div className=\"flex justify-between text-sm\">\r\n                  <span className=\"text-gray-600\">Shipping</span>\r\n                  <span>{formatPrice(shippingCost)}</span>\r\n                </div>\r\n                <div className=\"flex justify-between text-sm\">\r\n                  <span className=\"text-gray-600\">Tax (16%)</span>\r\n                  <span>{formatPrice(tax)}</span>\r\n                </div>\r\n                <Separator />\r\n                <div className=\"flex justify-between text-lg font-semibold\">\r\n                  <span>Total</span>\r\n                  <span>{formatPrice(total)}</span>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <Button\r\n            onClick={handleSubmit}\r\n            className=\"w-full bg-primary hover:bg-primary/90 text-white font-medium py-3\"\r\n          >\r\n            Place Order\r\n          </Button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Checkout;\r\n"],"names":["Banknote","createLucideIcon","RADIO_NAME","createRadioContext","createRadioScope","createContextScope","RadioProvider","useRadioContext","Radio","React.forwardRef","props","forwardedRef","__scopeRadio","name","checked","required","disabled","value","onCheck","form","radioProps","button","setButton","React.useState","composedRefs","useComposedRefs","node","hasConsumerStoppedPropagationRef","React.useRef","isFormControl","jsxs","jsx","Primitive","getState","composeEventHandlers","event","BubbleInput","INDICATOR_NAME","RadioIndicator","forceMount","indicatorProps","context","Presence","control","bubbles","inputProps","ref","prevChecked","usePrevious","controlSize","useSize","React.useEffect","input","inputProto","setChecked","ARROW_KEYS","RADIO_GROUP_NAME","createRadioGroupContext","createRadioGroupScope","createContextScope2","createRovingFocusGroupScope","useRovingFocusGroupScope","useRadioScope","RadioGroupProvider","useRadioGroupContext","RadioGroup","React2.forwardRef","__scopeRadioGroup","defaultValue","valueProp","orientation","dir","loop","onValueChange","groupProps","rovingFocusGroupScope","direction","useDirection","setValue","useControllableState","jsx2","RovingFocusGroup.Root","Primitive2","ITEM_NAME","RadioGroupItem","itemProps","isDisabled","radioScope","React2.useRef","useComposedRefs2","isArrowKeyPressedRef","React2.useEffect","handleKeyDown","handleKeyUp","RovingFocusGroup.Item","composeEventHandlers2","_a","INDICATOR_NAME2","RadioGroupIndicator","Root2","Item2","Indicator","className","RadioGroupPrimitive.Root","cn","RadioGroupPrimitive.Item","RadioGroupPrimitive.Indicator","Circle","initiateMpesaPayment","amount","phoneNumber","orderId","initiatePaystackPayment","email","initiateFlutterwavePayment","initiateCryptoPayment","currency","PaymentService","provider","details","response","supabase","error","toast","transactionId","transaction","PaymentMethodSelector","onPaymentComplete","selectedMethod","setSelectedMethod","useState","setDetails","isProcessing","setIsProcessing","formatPrice","useCurrency","handlePayment","Card","Label","CreditCard","Bitcoin","Input","e","Button","Checkout","items","clearCart","useCart","user","useAuth","navigate","useNavigate","shippingMethod","setShippingMethod","formData","setFormData","subtotal","sum","item","shippingCost","tax","total","handleInputChange","prev","handleSubmit","Separator"],"mappings":"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","x_google_ignoreList":[0,1]}