import{j as e}from"./ui-vendor-DUvlyADh.js";import{T as R,a as S,b as c,c as m}from"./tabs-BxpNRUCr.js";import V from"./ProductManager-D3Rohcd3.js";import{C as T,x as w,y as N,h as C,R as D,T as L,s as u,J as I}from"./index-hIbkmTRc.js";import{D as B,R as E,L as J,C as O,X as U,Y as g,T as k,a as b}from"./LineChart-SOEP5bQJ.js";import{S as F}from"./shopping-bag-BVR2wfG7.js";import{r as h}from"./react-vendor-BVHdP9Rw.js";import{T as H,f as K,g as y,h as i,i as M,j as d}from"./table-BKeV9QYJ.js";import{B as G}from"./badge-Rq5TmZMY.js";import"./square-pen-w732kGiv.js";import"./trash-2-DLKjyhPr.js";import"./plus-B4XmFN_P.js";import"./dialog-C0nEe18y.js";import"./textarea-EeofsJfB.js";import"./select-YRxIW6H_.js";import"./index-BdQq_4o_.js";import"./debounce-B64j741o.js";import"./label-DytFwINh.js";const P=({title:r,value:t,change:a,icon:l})=>e.jsxs(T,{children:[e.jsxs(w,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(N,{className:"text-sm font-medium",children:r}),l]}),e.jsxs(C,{children:[e.jsx("div",{className:"text-2xl font-bold",children:t}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[a," from last month"]})]})]}),X=()=>{const r=[{title:"Total Revenue",value:"$45,231.89",change:"+20.1%",icon:e.jsx(B,{className:"h-4 w-4 text-muted-foreground"})},{title:"Active Vendors",value:"124",change:"+15%",icon:e.jsx(D,{className:"h-4 w-4 text-muted-foreground"})},{title:"Total Orders",value:"2,345",change:"+12.3%",icon:e.jsx(F,{className:"h-4 w-4 text-muted-foreground"})},{title:"Growth Rate",value:"18.2%",change:"+4.1%",icon:e.jsx(L,{className:"h-4 w-4 text-muted-foreground"})}];return e.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:r.map((t,a)=>e.jsx(P,{...t},a))})},Y=[{month:"Jan",revenue:4e3,orders:240},{month:"Feb",revenue:3e3,orders:198},{month:"Mar",revenue:5e3,orders:305},{month:"Apr",revenue:2780,orders:189},{month:"May",revenue:1890,orders:140},{month:"Jun",revenue:2390,orders:178}],$=()=>e.jsxs(T,{className:"col-span-4",children:[e.jsx(w,{children:e.jsx(N,{children:"Revenue Overview"})}),e.jsx(C,{className:"h-[400px]",children:e.jsx(E,{width:"100%",height:"100%",children:e.jsxs(J,{data:Y,children:[e.jsx(O,{strokeDasharray:"3 3"}),e.jsx(U,{dataKey:"month"}),e.jsx(g,{yAxisId:"left"}),e.jsx(g,{yAxisId:"right",orientation:"right"}),e.jsx(k,{}),e.jsx(b,{yAxisId:"left",type:"monotone",dataKey:"revenue",stroke:"#8884d8",name:"Revenue"}),e.jsx(b,{yAxisId:"right",type:"monotone",dataKey:"orders",stroke:"#82ca9d",name:"Orders"})]})})})]}),q=()=>{const[r,t]=h.useState([]),[a,l]=h.useState(!0);return h.useEffect(()=>{const s=async()=>{try{const{data:n,error:x}=await u.from("vendor_profiles").select(`
            id,
            business_name,
            status,
            products (count),
            analytics (total_sales)
          `);if(x)throw x;const A=n==null?void 0:n.map(o=>{var j,p,v,f;return{id:o.id,business_name:o.business_name,products_count:((p=(j=o.products)==null?void 0:j[0])==null?void 0:p.count)||0,total_revenue:new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(((f=(v=o.analytics)==null?void 0:v[0])==null?void 0:f.total_sales)||0),status:o.status}});t(A||[])}catch(n){console.error("Error fetching vendors:",n),I.error("Failed to load vendors")}finally{l(!1)}};s();const _=u.channel("vendor-changes").on("postgres_changes",{event:"*",schema:"public",table:"vendor_profiles"},()=>{s()}).subscribe();return()=>{u.removeChannel(_)}},[]),a?e.jsx("div",{children:"Loading vendors..."}):e.jsx("div",{className:"rounded-md border",children:e.jsxs(H,{children:[e.jsx(K,{children:e.jsxs(y,{children:[e.jsx(i,{children:"Vendor"}),e.jsx(i,{children:"Products"}),e.jsx(i,{children:"Revenue"}),e.jsx(i,{children:"Status"})]})}),e.jsx(M,{children:r.map(s=>e.jsxs(y,{children:[e.jsx(d,{className:"font-medium",children:s.business_name}),e.jsx(d,{children:s.products_count}),e.jsx(d,{children:s.total_revenue}),e.jsx(d,{children:e.jsx(G,{variant:s.status==="active"?"default":s.status==="pending"?"secondary":"destructive",children:s.status})})]},s.id))})]})})},xe=()=>e.jsxs("div",{className:"container mx-auto px-4 py-8",children:[e.jsx("h1",{className:"text-3xl font-bold mb-8",children:"Admin Dashboard"}),e.jsx(X,{}),e.jsx("div",{className:"mt-8",children:e.jsxs(R,{defaultValue:"overview",children:[e.jsxs(S,{children:[e.jsx(c,{value:"overview",children:"Overview"}),e.jsx(c,{value:"products",children:"Products"}),e.jsx(c,{value:"vendors",children:"Vendors"})]}),e.jsx(m,{value:"overview",children:e.jsx($,{})}),e.jsx(m,{value:"products",children:e.jsx(V,{})}),e.jsx(m,{value:"vendors",children:e.jsx(q,{})})]})})]});export{xe as default};
//# sourceMappingURL=Dashboard-Cja0r8pO.js.map
