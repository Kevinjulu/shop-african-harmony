import{j as s}from"./ui-vendor-DUvlyADh.js";import{g as n,u as d,C as c,h as m,i as l,s as o}from"./index-hIbkmTRc.js";import{L as x}from"./react-vendor-BVHdP9Rw.js";import{B as h}from"./badge-Rq5TmZMY.js";const N=()=>{const{formatPrice:i}=n(),{data:r,isLoading:t}=d({queryKey:["on-sale"],queryFn:async()=>{const{data:e,error:a}=await o.from("products").select("*").limit(20);if(a)throw a;return e}});return t?s.jsxs("div",{className:"container mx-auto px-4 py-8",children:[s.jsx("h1",{className:"text-2xl font-bold mb-6",children:"On Sale"}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[...Array(8)].map((e,a)=>s.jsx(c,{children:s.jsxs(m,{className:"p-4",children:[s.jsx(l,{className:"h-48 w-full mb-4"}),s.jsx(l,{className:"h-4 w-2/3 mb-2"}),s.jsx(l,{className:"h-4 w-1/3"})]})},a))})]}):s.jsxs("div",{className:"container mx-auto px-4 py-8",children:[s.jsx("h1",{className:"text-2xl font-bold mb-6",children:"On Sale"}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:r==null?void 0:r.map(e=>s.jsx(x,{to:`/product/${e.id}`,children:s.jsx(c,{className:"hover:shadow-lg transition-shadow",children:s.jsxs(m,{className:"p-4",children:[s.jsxs("div",{className:"aspect-square relative mb-4",children:[s.jsx("img",{src:e.image_url||"/placeholder.svg",alt:e.name,className:"w-full h-full object-cover rounded-md"}),s.jsx(h,{className:"absolute top-2 right-2 bg-red-500",children:"Sale"})]}),s.jsx("h3",{className:"font-medium text-gray-900 mb-2",children:e.name}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("p",{className:"text-primary font-bold",children:i(e.price*.8)}),s.jsx("p",{className:"text-gray-500 line-through text-sm",children:i(e.price)})]})]})})},e.id))})]})};export{N as default};
//# sourceMappingURL=OnSale-DPZowOdm.js.map
