{"version":3,"file":"Register-BZOgKY-M.js","sources":["../../src/pages/vendor/Register.tsx"],"sourcesContent":["import { useState } from \"react\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport { Navbar } from \"@/components/Navbar\";\r\nimport { Button } from \"@/components/ui/button\";\r\nimport { Input } from \"@/components/ui/input\";\r\nimport { Textarea } from \"@/components/ui/textarea\";\r\nimport { useAuth } from \"@/components/AuthProvider\";\r\nimport { supabase } from \"@/integrations/supabase/client\";\r\nimport { toast } from \"sonner\";\r\n\r\nconst VendorRegister = () => {\r\n  const [businessName, setBusinessName] = useState(\"\");\r\n  const [description, setDescription] = useState(\"\");\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const { user } = useAuth();\r\n  const navigate = useNavigate();\r\n\r\n  const handleSubmit = async (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n    if (!user) {\r\n      toast.error(\"Please login first\");\r\n      return;\r\n    }\r\n\r\n    setIsLoading(true);\r\n    try {\r\n      const { error } = await supabase.from(\"vendor_profiles\").insert([\r\n        {\r\n          user_id: user.id,\r\n          business_name: businessName,\r\n          description: description,\r\n        },\r\n      ]);\r\n\r\n      if (error) throw error;\r\n\r\n      toast.success(\"Vendor profile created successfully!\");\r\n      navigate(\"/vendor/dashboard\");\r\n    } catch (error) {\r\n      console.error(\"Error creating vendor profile:\", error);\r\n      toast.error(\"Failed to create vendor profile\");\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <Navbar />\r\n      <div className=\"container mx-auto px-4 py-8\">\r\n        <div className=\"max-w-2xl mx-auto\">\r\n          <h1 className=\"text-3xl font-bold mb-8\">Register as a Vendor</h1>\r\n          <form onSubmit={handleSubmit} className=\"space-y-6\">\r\n            <div>\r\n              <label className=\"block text-sm font-medium mb-2\">\r\n                Business Name\r\n              </label>\r\n              <Input\r\n                type=\"text\"\r\n                value={businessName}\r\n                onChange={(e) => setBusinessName(e.target.value)}\r\n                required\r\n                placeholder=\"Enter your business name\"\r\n              />\r\n            </div>\r\n            <div>\r\n              <label className=\"block text-sm font-medium mb-2\">\r\n                Business Description\r\n              </label>\r\n              <Textarea\r\n                value={description}\r\n                onChange={(e) => setDescription(e.target.value)}\r\n                required\r\n                placeholder=\"Describe your business\"\r\n                rows={4}\r\n              />\r\n            </div>\r\n            <Button type=\"submit\" disabled={isLoading}>\r\n              {isLoading ? \"Registering...\" : \"Register as Vendor\"}\r\n            </Button>\r\n          </form>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default VendorRegister;"],"names":["VendorRegister","businessName","setBusinessName","useState","description","setDescription","isLoading","setIsLoading","user","useAuth","navigate","useNavigate","handleSubmit","e","toast","error","supabase","jsx","Navbar","jsxs","Input","Textarea","Button"],"mappings":"wNAUA,MAAMA,EAAiB,IAAM,CAC3B,KAAM,CAACC,EAAcC,CAAe,EAAIC,WAAS,EAAE,EAC7C,CAACC,EAAaC,CAAc,EAAIF,WAAS,EAAE,EAC3C,CAACG,EAAWC,CAAY,EAAIJ,WAAS,EAAK,EAC1C,CAAE,KAAAK,GAASC,IACXC,EAAWC,IAEXC,EAAe,MAAOC,GAAuB,CAEjD,GADAA,EAAE,eAAe,EACb,CAACL,EAAM,CACTM,EAAM,MAAM,oBAAoB,EAChC,MACF,CAEAP,EAAa,EAAI,EACb,GAAA,CACI,KAAA,CAAE,MAAAQ,GAAU,MAAMC,EAAS,KAAK,iBAAiB,EAAE,OAAO,CAC9D,CACE,QAASR,EAAK,GACd,cAAeP,EACf,YAAAG,CACF,CAAA,CACD,EAED,GAAIW,EAAa,MAAAA,EAEjBD,EAAM,QAAQ,sCAAsC,EACpDJ,EAAS,mBAAmB,QACrBK,EAAO,CACN,QAAA,MAAM,iCAAkCA,CAAK,EACrDD,EAAM,MAAM,iCAAiC,CAAA,QAC7C,CACAP,EAAa,EAAK,CACpB,CAAA,EAGF,cACG,MACC,CAAA,SAAA,CAAAU,EAAA,IAACC,EAAO,EAAA,QACP,MAAI,CAAA,UAAU,8BACb,SAACC,EAAA,KAAA,MAAA,CAAI,UAAU,oBACb,SAAA,CAACF,EAAA,IAAA,KAAA,CAAG,UAAU,0BAA0B,SAAoB,uBAAA,EAC3DE,EAAA,KAAA,OAAA,CAAK,SAAUP,EAAc,UAAU,YACtC,SAAA,CAAAO,OAAC,MACC,CAAA,SAAA,CAACF,EAAA,IAAA,QAAA,CAAM,UAAU,iCAAiC,SAElD,gBAAA,EACAA,EAAA,IAACG,EAAA,CACC,KAAK,OACL,MAAOnB,EACP,SAAWY,GAAMX,EAAgBW,EAAE,OAAO,KAAK,EAC/C,SAAQ,GACR,YAAY,0BAAA,CACd,CAAA,EACF,SACC,MACC,CAAA,SAAA,CAACI,EAAA,IAAA,QAAA,CAAM,UAAU,iCAAiC,SAElD,uBAAA,EACAA,EAAA,IAACI,EAAA,CACC,MAAOjB,EACP,SAAWS,GAAMR,EAAeQ,EAAE,OAAO,KAAK,EAC9C,SAAQ,GACR,YAAY,yBACZ,KAAM,CAAA,CACR,CAAA,EACF,EACAI,EAAAA,IAACK,GAAO,KAAK,SAAS,SAAUhB,EAC7B,SAAAA,EAAY,iBAAmB,oBAClC,CAAA,CAAA,EACF,CAAA,CAAA,CACF,CACF,CAAA,CACF,CAAA,CAAA,CAEJ"}